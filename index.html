<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranaivo</title>
    <style>
        /* ================================================== */
        /* GLOBAL STYLES */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(135deg, #fff5f7, #ffecec, #fff);
            color: #333;
            overflow-x: hidden;
        }

        /* ================================================== */
        /* SECTION BASE */
        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
        }

        /* HEADINGS */
        h1 {
            font-size: clamp(26px, 5vw, 52px);
            font-weight: 800;
            margin-bottom: 20px;
        }

        /* BUTTONS */
        button {
            padding: 14px 28px;
            border: none;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            transition: .3s;
            margin: 10px;
        }

        .yes {
            background: linear-gradient(45deg, #ff9a9e, #fecfef);
            color: #222;
            box-shadow: 0 10px 30px rgba(255, 105, 135, .3);
        }

        .yes:hover {
            transform: scale(1.08);
        }

        .no {
            background: white;
            border: 2px solid #ff4d4d;
            color: #ff4d4d;
            position: absolute;
            z-index: 10;
        }

        /* ================================================== */
        /* ERROR BOX */
        #errorBox {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 40px 60px;
            border-radius: 20px;
            font-size: clamp(22px, 5vw, 50px);
            font-weight: 800;
            color: #ff3b3b;
            box-shadow: 0 20px 60px rgba(0, 0, 0, .2);
            text-align: center;
            z-index: 9999;
            pointer-events: none;
        }

        .showError {
            animation: pop .4s forwards, shake .4s .4s, blink 1s infinite alternate;
        }

        @keyframes pop {
            0% {
                transform: translate(-50%, -50%) scale(0)
            }

            100% {
                transform: translate(-50%, -50%) scale(1)
            }
        }

        @keyframes shake {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1) translateX(0)
            }

            25% {
                transform: translate(-50%, -50%) scale(1) translateX(-8px)
            }

            75% {
                transform: translate(-50%, -50%) scale(1) translateX(8px)
            }
        }

        @keyframes blink {
            from {
                opacity: .6
            }

            to {
                opacity: 1
            }
        }

        /* ================================================== */
        /* HEART ANIMATION */
        .heart {
            position: fixed;
            top: -20px;
            font-size: 22px;
            animation: fall linear forwards;
            pointer-events: none;
        }

        @keyframes fall {
            to {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0
            }
        }

        /* ================================================== */
        /* COUNTER */
        .counter {
            font-size: clamp(18px, 3vw, 26px);
            margin-top: 20px;
            font-weight: 600;
        }

        /* HIDDEN CLASS */
        .hidden {
            display: none;
        }

        /* RESPONSIVE */
        @media(max-width:600px) {
            .no {
                position: relative;
            }
        }
    </style>
</head>

<body>

    <!-- ERROR BOX -->
    <div id="errorBox"></div>

    <!-- INTRO -->
    <section id="intro">
        <h1 id="typewriter"></h1>
        <button class="yes" onclick="nextSection('q1')">Commencer ‚ù§Ô∏è</button>
    </section>

    <!-- QUESTION 1 -->
    <section id="q1">
        <h1>Te ho valentine-ko ve ianao androany 14 F√©vrier ? ‚ù§Ô∏è</h1>
        <div style="position:relative;height:100px;width:100%;max-width:400px;">
            <button class="yes" onclick="nextSection('q2')">OUI üòç</button>
            <button class="no" id="no1">NON üòè</button>
        </div>
    </section>

    <!-- QUESTION 2 -->
    <section id="q2">
        <h1>Iza no olona tena tianao? üòè</h1>
        <div class="flex flex-col gap-4 mt-4">
            <button class="yes" onclick="nextSection('q3')">Moi ‚ù§Ô∏è</button>
            <button class="yes" onclick="showError()">Rakoto üòú</button>
            <button class="yes" onclick="showError()">Hafa üòÜ</button>
        </div>
    </section>

    <!-- QUESTION 3 -->
    <section id="q3">
        <h1>Vonona hanambady ahy ve ianao indray andro any? üíç</h1>
        <div style="position:relative;height:100px;width:100%;max-width:400px;">
            <button class="yes" onclick="nextSection('final')">ENY MAZAVA ‚ù§Ô∏è</button>
            <button class="no" id="no2">TSIA KELY üòú</button>
        </div>
    </section>

    <!-- FINAL -->
    <section id="final">
        <h1>Tiako ianao mihoatra noho ny teny rehetra ‚ù§Ô∏è</h1>
        <div class="counter" id="counter"></div>
        <button class="yes mt-6" onclick="location.reload()">Hiverina any am-boalohany</button>
    </section>

    <script>
        /* ================================================== */
        /* TYPEWRITER */
        const text = "Misy zavatra manokana ho anao androany... ‚ù§Ô∏è";
        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                document.getElementById("typewriter").innerHTML += text.charAt(i);
                i++;
                setTimeout(typeWriter, 50);
            }
        }
        typeWriter();

        /* ================================================== */
        /* SCROLL + HEART + CONFETTI */
        function nextSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: "smooth" });
            rainHearts();
            confetti();
        }

        /* ================================================== */
        /* ERROR RANDOM */
        const funnyTexts = [
            "‚ùå DISO ZANY üòÇ",
            "‚ùå Tsy mety izany üòú",
            "‚ùå Moi ihany no valiny üòé",
            "‚ùå Aza manao drama üòÜ",
            "‚ùå OUI IHANY üòå",
            "‚ùå Tsy ekena izany tsia izany üòù"
        ];
        function showError() {
            const box = document.getElementById("errorBox");
            box.innerHTML = funnyTexts[Math.floor(Math.random() * funnyTexts.length)];
            box.classList.add("showError");
            setTimeout(() => {
                box.classList.remove("showError");
                box.style.transform = "translate(-50%,-50%) scale(0)";
            }, 1500);
        }

        /* ================================================== */
        /* MOVE NON BUTTON */
        function move(btn) {
            const parent = btn.parentElement;
            const maxX = parent.clientWidth - 120;
            const maxY = parent.clientHeight - 50;
            btn.style.left = Math.random() * maxX + "px";
            btn.style.top = Math.random() * maxY + "px";
        }
        const no1 = document.getElementById("no1");
        const no2 = document.getElementById("no2");
        no1.onmouseover = () => move(no1);
        no1.onclick = () => { showError(); move(no1); };
        no2.onmouseover = () => move(no2);
        no2.onclick = () => { showError(); move(no2); };

        /* ================================================== */
        /* HEART RAIN */
        function rainHearts() {
            for (let i = 0; i < 40; i++) {
                let heart = document.createElement("div");
                heart.className = "heart";
                heart.innerHTML = "‚ù§Ô∏è";
                heart.style.left = Math.random() * 100 + "vw";
                heart.style.animationDuration = (Math.random() * 3 + 2) + "s";
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 5000);
            }
        }

        /* ================================================== */
        /* CONFETTI */
        function confetti() {
            const emojis = ["üíõ", "üíñ", "üíå", "üíò"];
            for (let i = 0; i < 50; i++) {
                let c = document.createElement("div");
                c.className = "heart";
                c.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                c.style.left = Math.random() * 100 + "vw";
                c.style.animationDuration = (Math.random() * 2 + 1) + "s";
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 4000);
            }
        }

        /* ================================================== */
        /* COUNTER */
        const startDate = new Date("2023-11-02T00:00:00");
        function updateCounter() {
            const now = new Date();
            const diff = now - startDate;
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const m = Math.floor((diff / 1000 / 60) % 60);
            const s = Math.floor((diff / 1000) % 60);
            counter.innerHTML = "Isika niaraka hatramin'ny 02 Novembre 2023 ‚ù§Ô∏è<br>" + d + " andro " + h + " ora " + m + " minitra " + s + " segondra";
        }
        setInterval(updateCounter, 1000);
        updateCounter();
    </script>

</body>

</html>